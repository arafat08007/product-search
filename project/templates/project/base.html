{% load static %}

<html>

<head>
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <title>Google Maps - pygmaps </title>
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="{% static 'css/project.css' %}">
</head>

<body onload="initialize()">
  <div class="content" style="height:36.5rem">

    <div class="card" style="width: 20rem;">
        <div id="mySidebar" class="sidebar">
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">×</a>
            <a href="#">Home</a>
            <a href="{% url 'businesslist' %}">Find Business</a>
            <a href="{% url 'productlist' %}">Find Products</a>
            <a href="{% url 'updateinfo' %}">Update Store Info</a>
            <a href="{% url 'addproduct' %}">Add Product</a>
            <a href="{% url 'logout' %}">Logout</a>
        </div>
        <div class="input-group mb-3 white-nav">
            <div class="input-group-prepend">
                <span class="input-group-text custom-input-group-text" onclick="openNav()" id="basic-addon1">☰</span>
            </div>
            <input type="text" class="form-control custom-form-control" placeholder="Search" aria-label="Search"
                aria-describedby="basic-addon1">
        </div>
        <div class="card-body " style="text-align:center; padding:0px; margin-top: -35px; margin-bottom:5px;">
            <div style="width: 100%; margin: 15px 0 5px;"></div>

        </div>
        <div class="card-body relative" style="padding:0px;">
            <div id="map_canvas" style="width: 100%; height: 33rem; border-radius: 10px;"></div>
            <div class="btn-group capsule-button" role="group" aria-label="Basic example">
                <button
                    style="line-height: 0.5; padding:10px 25px; border-radius: 25px 0px 0px 25px; box-shadow: 0px 0px 4px 1px #aaa;"
                    type="button" class="btn btn-primary btn-sm ">
                    Map
                </button>
                <button
                    style="line-height: 0.5;padding:10px 25px;border-radius: 0px 25px 25px 0px; box-shadow: 0px 0px 4px 1px #aaa;"
                    type="button" class="btn btn-sm"><a style="color:black; text-decoration: None;"
                        href="{% url 'productlist' %}">List</a></button>
            </div>
            <div class="find_busniess" style="top: 95%;"><a style="color:#4d4d4d;" href="{% url 'businesslist' %}">Find Business</a></div>
        </div>

    </div>
</div>

  <!-- jQuery library -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

  <!-- Popper JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>

  <!-- Latest compiled JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
  <script type="text/javascript"
    src="https://maps.googleapis.com/maps/api/js?libraries=visualization&sensor=true_or_false&key=AIzaSyBb8naJyiLvTPtVyU4MrYeUxPtEH7aaXjU"></script>
  <script type="text/javascript">
  var value = {{ search_result }}

        function initialize() {
            var centerlatlng = new google.maps.LatLng({{ user_lat_location}}, {{ user_long_location }});
            var myOptions = {
                zoom: 13,
                center: centerlatlng,
                mapTypeId: google.maps.MapTypeId.ROADMAP
            };
            var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
            var latitude_list = {{ lat_location_list }};
            var longitude_list = {{ long_location_list }};
            var map_key = {{ map_key }}
            if ( map_key == 1 ) {
            for (i = 0; i < latitude_list.length; i++) {
                var markar = new google.maps.Marker({
                    position: new google.maps.LatLng(latitude_list[i], longitude_list[i]),
                    map: map
                });
            }
            }
        }
        function openNav() {
  document.getElementById("mySidebar").style.width = "250px";
  document.getElementById("main").style.marginLeft = "250px";
}
    function openNav() {
      document.getElementById("mySidebar").style.width = "250px";
      document.getElementById("main").style.marginLeft = "250px";
    }

    function closeNav() {
      document.getElementById("mySidebar").style.width = "0";
      document.getElementById("main").style.marginLeft = "0";
    }
  </script>
</body>

</html>